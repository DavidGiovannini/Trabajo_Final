/* =========================
   KPI (no lo toco casi)
========================= */
.kpi-card{
  border-radius: 10px;
  min-height: 110px;
  transition: all .25s ease;
  cursor: pointer;
}
.kpi-card h2{ transition: transform .25s ease; }
.kpi-card:hover h2{ transform: scale(1.05); }
.kpi-card:hover{
  transform: translateY(-6px) scale(1.02);
  box-shadow: 0 12px 28px rgba(0,0,0,.15);
}

.kpi-azul{ --bs-card-bg:#0b2a4a; color:#fff !important; }
.kpi-naranja{ --bs-card-bg:#c46200; color:#fff !important; }
.kpi-gris{ --bs-card-bg:#4a4a4a; color:#fff !important; }
.kpi-blanco{ --bs-card-bg:#ffffff; color:#000 !important; }

.card canvas{ height: 380px !important; }

.dashboard-card{
  background: rgba(255,255,255,.75);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  border-radius: 14px;
  box-shadow: 0 8px 25px rgba(0,0,0,.08);
  border: 1px solid rgba(255,255,255,.4);
}

/* =========================
   KANBAN COLUMNAS
   - SIN "rectángulo interno"
   - vacías => se agrandan
========================= */
.kanban-column{
  /* tamaño */
  padding: 12px;
  border-radius: 10px;

  /* look */
  background: rgba(255,255,255,.55);
  border: 2px solid rgba(11,42,74,.20);

  /* comportamiento */
  min-height: 0;
  height: auto;

  transition: background .15s ease, border-color .15s ease;
}

/* cuando realmente no hay nada dentro */
.kanban-column:empty{
  min-height: 220px;              /* más grande si está vacía */
  background: rgba(255,255,255,.75);
  border-color: rgba(11,42,74,.28);
}

/* si tu JS marca vacía con class is-empty (también funciona) */
.kanban-column.is-empty{
  min-height: 220px;
  background: rgba(255,255,255,.75);
  border-color: rgba(11,42,74,.28);
}

/* feedback al arrastrar encima */
.kanban-column.drag-over{
  border-color: rgba(11,42,74,.60) !important;
  background: rgba(11,42,74,.06) !important;
}

/* =========================
   CARDS base
========================= */
.pedido-card{
  background: #fff;
  border-radius: 10px;
  padding: 15px;
  margin-bottom: 12px;
  cursor: grab;
  transition: transform .25s ease, box-shadow .25s ease;
}

.pedido-card.dragging{
  opacity: .5;
  pointer-events: none;
}

.pedido-card:not(.pedido-nueva):hover{
  transform: translateY(-6px);
  box-shadow: 0 12px 25px rgba(0,0,0,.15);
}

.pedido-card.snap{
  animation: snapEffect .30s ease;
}
@keyframes snapEffect{
  0%{ transform: scale(.95); }
  50%{ transform: scale(1.05); }
  100%{ transform: scale(1); }
}

/* =========================
   CARD NUEVA (la que usás)
========================= */
.pedido-nueva{
  border: 1px solid rgba(0,0,0,.08);
  border-radius: 12px;
  overflow: hidden;
  background: #fbfaf8;
  box-shadow: 0 8px 18px rgba(0,0,0,.08);
  cursor: grab;
  user-select: none;
  margin-bottom: 12px;

  /* evita el “doble hover” */
  transform: none !important;
}
.pedido-nueva:active{ cursor: grabbing; }
.pedido-nueva:hover{ box-shadow: 0 10px 22px rgba(0,0,0,.10); }

/* header azul */
.pedido-header{
  position: relative;
  padding: 14px 14px 12px;
  background: #0b2a4a;
  color: #fff;
  text-align: center;
  font-weight: 800;
  letter-spacing: .6px;
}

.pedido-header:before{
  content:"";
  position:absolute;
  left:10px; right:10px;
  top:8px; bottom:8px;
  border-radius: 2px;
  border: 1px dashed rgba(255,255,255,.55);
  pointer-events:none;
  opacity:.9;
}

.pedido-title{
  font-size: 15px;                /* un toque más chica */
  line-height: 1.3;
  padding: 0 10px;
  text-shadow: 0 1px 0 rgba(0,0,0,.25);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.pedido-fecha{
  margin-top: 6px;
  font-size: 12px;
  font-weight: 700;
  color: rgba(255,255,255,.92);
}

/* botón flecha */
.pedido-toggle{
  margin: 10px auto 0;
  width: 38px;
  height: 28px;
  background: #0b2a4a;
  color: #fff;
  border: 1px solid rgba(255,255,255,.28);
  display: grid;
  place-items: center;
  cursor: pointer;
  padding: 0;
  border-radius: 2px;
  box-shadow: 0 8px 16px rgba(0,0,0,.14);
}
.pedido-toggle:hover{ filter: brightness(1.07); }

.pedido-toggle i{ transition: transform .18s ease; }
.pedido-nueva.is-open .pedido-toggle i{ transform: rotate(180deg); }

/* body */
.pedido-body{
  padding: 12px 14px 14px;
  background: #f7f2ea;
  border-top: 1px solid rgba(0,0,0,.06);
}

.pedido-label{
  font-weight: 700;
  color: #3b2f2a;
  margin-bottom: 6px;
}

.pedido-items{
  background: rgba(255,255,255,.55);
  border: 1px solid rgba(0,0,0,.08);
  border-radius: 10px;
  padding: 10px;
  margin-bottom: 10px;
  box-shadow: none !important;
}

.pedido-item-line{
  font-size: 13px;
  color: #2f2f2f;
  padding: 4px 0;
  border-bottom: 1px solid rgba(0,0,0,.06);
}
.pedido-item-line:last-child{ border-bottom: 0; }

.pedido-debe{
  display:flex;
  align-items: baseline;
  justify-content: space-between;
  padding: 8px 10px;
  border-radius: 10px;
  background: rgba(255,255,255,.45);
  border: 1px solid rgba(0,0,0,.08);
  box-shadow: none !important;
}
.pedido-debe-label{ font-weight: 700; color:#3b2f2a; }
.pedido-debe-valor{ font-weight: 900; font-size: 16px; }

/* botón ver más */
.btn-vermas{
  background: #0b2a4a;
  border-color: #0b2a4a;
  font-weight: 700;
  border-radius: 0;
  font-size: 11px;
  padding: 6px 10px;
  letter-spacing: .2px;
}
.btn-vermas:hover{ filter: brightness(1.06); }

/* colapsado */
.pedido-nueva .pedido-body.pedido-collapsed{ display:none !important; }
.pedido-nueva .pedido-body{ display:block; }

/* sortable */
.drag-over{
  opacity: .35 !important;
  box-shadow: none !important;
  transform: none !important;
}
.sortable-chosen,
.sortable-fallback{
  box-shadow: 0 12px 26px rgba(0,0,0,.14) !important;
  transform: none !important;
}